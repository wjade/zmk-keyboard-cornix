# ZMK Keyboard Cornix

## å¼€å‘æ¿å’Œæ‰©å±•æ¿ä»‹ç»

æœ¬ä»“åº“åŒ…å«ç”¨äº Cornix åˆ†ä½“å¼é”®ç›˜çš„ ZMK å›ºä»¶é…ç½®ã€‚ä»¥ä¸‹æ˜¯è¯¥é¡¹ç›®ä¸­å¯ç”¨çš„ä¸åŒå¼€å‘æ¿å’Œæ‰©å±•æ¿çš„è¯´æ˜ï¼š

### å¼€å‘æ¿

è¯¥é¡¹ç›®åŒ…å«ä¸‰ä¸ªä¸»è¦çš„å¼€å‘æ¿å®šä¹‰ï¼š

- **`cornix_left`**: Cornix åˆ†ä½“å¼é”®ç›˜çš„å·¦åŠéƒ¨åˆ†ï¼Œç”¨äºåœ¨ä¸ä½¿ç”¨é€‚é…å™¨é…ç½®çš„æƒ…å†µä¸‹æ„å»ºå›ºä»¶ã€‚
- **`cornix_right`**: Cornix åˆ†ä½“å¼é”®ç›˜çš„å³åŠéƒ¨åˆ†ï¼Œç”¨äºåˆ†ä½“å¼é”®ç›˜è®¾ç½®ä¸­çš„ä»è®¾å¤‡ä¾§ã€‚
- **`cornix_ph_left`**: å·¦åŠéƒ¨åˆ†çš„æ›¿ä»£å¼€å‘æ¿é…ç½®ï¼Œä¸“é—¨è®¾è®¡ç”¨äºé€‚é…å™¨è®¾ç½®ã€‚

### æ‰©å±•æ¿

è¯¥é¡¹ç›®åŒ…å«å‡ ä¸ªæä¾›é¢å¤–åŠŸèƒ½çš„ä¸“ç”¨æ‰©å±•æ¿ï¼š

- **`cornix_dongle_adapter`**: ä¸ºé€‚é…å™¨é…ç½®æä¾›çŸ©é˜µå’Œè“ç‰™åŠŸèƒ½çš„é€šç”¨åŠŸèƒ½ã€‚åœ¨ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰é€‚é…å™¨çš„ Cornix æ—¶éœ€è¦æ­¤æ‰©å±•æ¿ã€‚
- **`cornix_dongle_eyelash`**: ç”¨äºä¸ºé€‚é…å™¨æ¿è®¾ç½®æ˜¾ç¤ºè®¾å¤‡çš„ç¤ºä¾‹æ‰©å±•æ¿ã€‚å½“æ¿å­æœ¬èº«æ²¡æœ‰åœ¨è®¾å¤‡æ ‘ä¸­åŒ…å« `zephyr,display` æ—¶ä½¿ç”¨æ­¤æ‰©å±•æ¿ã€‚
- **`cornix_indicator`**: å¯ç”¨ RGB LED æŒ‡ç¤ºç¯ä»¥æ˜¾ç¤ºç”µæ± çŠ¶æ€å’Œè¿æ¥çŠ¶æ€çš„æ‰©å±•æ¿ã€‚æ³¨æ„ä½¿ç”¨æ­¤æ‰©å±•æ¿ä¼šæ¶ˆè€—æ›´å¤šç”µé‡ã€‚

---

è¿™ä¸ªç¤¾åŒºå›ºä»¶å·²åœ¨ä½¿ç”¨ ZMK çš„ Cornix ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œå¹¶æä¾›å®Œæ•´çš„åˆ†ä½“è§’è‰²é…ç½®ã€ç”µæ± ç”µæºç®¡ç†å’Œè“ç‰™ä¸»/ä»è®¾ç½®ï¼Œç¬¦åˆ ZMK åˆ†ä½“å¼æŒ‡å—

![image](images/cornix_with_dongle.png)
![image](images/cornix_layout.png)

## è­¦å‘Šï¼šè®¾å¤‡æŸåæ¢å¤

åŸå§‹ Cornix ä½¿ç”¨æ²¡æœ‰ SoftDevice çš„é—ªå­˜å¸ƒå±€
å› æ­¤åœ¨é¡¹ç›®ä¸­ï¼Œæ‰€æœ‰å¼€å‘æ¿é»˜è®¤ä½¿ç”¨æ—  SD å¸ƒå±€

å¦‚æœä½ å°†å›ºä»¶åˆ·å…¥é€‚é…å™¨å¹¶å‘ç°å®ƒæ— æ³•ä¸åŸå§‹å›ºä»¶é…åˆå·¥ä½œ
ä½ æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ

1. ï¼ˆæ¨èï¼‰åœ¨ bootloader ç›®å½•ä¸‹åˆ·å…¥ sd æ¢å¤ uf2 æ–‡ä»¶ï¼ˆé€‚ç”¨äº nice nano 2ï¼Œä½†æˆ‘è®¤ä¸ºå®ƒé€‚ç”¨äºå¤§å¤šæ•° nrf52840 è®¾å¤‡ï¼‰å…¶ä»–å¼€å‘æ¿ https://github.com/hitsmaxft/Adafruit_nRF52_Bootloader/actions/runs/18398554358
2. ä½¿ç”¨ä»£ç ç‰‡æ®µ 'nrf52840-nosd' æ„å»ºä½ çš„å›ºä»¶ï¼Œä½¿ zmk å¿½ç•¥è½¯è®¾å¤‡

## TODO åˆ—è¡¨

- [x] 52 é”®å®Œæ•´å¸ƒå±€é”®ä½å›¾ï¼Œè‡ª v2.0
- [x] ec11 ç¼–ç å™¨ï¼Œè‡ª v2.2
- [x] æ—  SD é•œåƒï¼Œè‡ª v2.3
- [x] æ”¯æŒå„ç§é€‚é…å™¨
- [x] å‡çº§åˆ° zephyr4.1 å’Œ lvgl9ï¼Œè‡ª v2.7ï¼Œæš‚ä¸æ”¯æŒé€‚é…å™¨å±å¹•
- [ ] RGBï¼Œå°†åœ¨æœªæ¥ v3 ä¸­æ”¯æŒ

### å…³äº RGB

Cornix æ‰©å±•æ¿æ¯ä¾§æœ‰ 2 ä¸ª RGB LEDï¼Œç”± PWM åœ¨åŸå§‹å›ºä»¶ä¸­æ§åˆ¶ã€‚

æ›¿ä»£è§£å†³æ–¹æ¡ˆæ˜¯é‡‡ç”¨ RGB æŒ‡ç¤ºæ¨¡å—æ¥ç‚¹äº®è¿™äº› RGBï¼Œä»¥å®ç°ä¸åŸå§‹å›ºä»¶ç›¸åŒçš„æ•ˆæœï¼ŒåŸå§‹å›ºä»¶ä½¿ç”¨ RGB LED æ¥æŒ‡ç¤ºç”µæ± çŠ¶æ€å’Œè¿æ¥çŠ¶æ€ã€‚

ä½†æ­¤åŠŸèƒ½å°šæœªåœ¨æ­¤ä»“åº“ä¸­æ”¯æŒã€‚æ¬¢è¿æäº¤ PRï¼

## æ”¯æŒçš„ç¡¬ä»¶ï¼šCornix åˆ†ä½“å¼é”®ç›˜

Cornix åˆ†ä½“å¼å¸ç¯·å¼ä½è½®å»“äººä½“å·¥å­¦é”®ç›˜ (Jezail èµ„åŠ©è€…)

Cornix æ˜¯ä¸€æ¬¾å— Corne å¯å‘çš„åˆ†ä½“å¼äººä½“å·¥å­¦é”®ç›˜ï¼Œå…·æœ‰ç´§å‡‘çš„ 3Ã—6 åˆ—äº¤é”™å¸ƒå±€å’Œå…­ä¸ªæ‹‡æŒ‡é›†ç¾¤é”®ï¼ˆæ¯åŠè¾¹ä¸‰ä¸ªï¼‰ã€‚å®ƒæä¾› 10Â°ã€18Â° å’Œ 25Â° çš„å¯è°ƒå¸ç¯·è§’åº¦ï¼Œå…è®¸ç”¨æˆ·å‡å°‘æ‰‹è…•å‹åŠ›å¹¶æ‰¾åˆ°è‡ªå®šä¹‰çš„äººä½“å·¥å­¦å¯¹é½

- **åˆ†ä½“å¼ã€åˆ—äº¤é”™å¸ƒå±€** (3Ã—6 + æ‹‡æŒ‡é›†ç¾¤å¸ƒå±€)ã€‚
- **å¯è°ƒå¸ç¯·æ”¯æ’‘** 10Â°ã€18Â°ã€25Â°ï¼ˆåŸºäºç¡¬ä»¶ï¼Œæ— éœ€å›ºä»¶é»‘ç§‘æŠ€ï¼‰ã€‚
- **Kailh Choc V2 çƒ­æ’æ‹”æ’åº§** å¹¶æ”¯æŒ LAK æˆ– LCK ä½è½®å»“é”®å¸½ã€‚
- **åŒæ¨¡è¿æ¥**ï¼šæœ‰çº¿ USB-C æˆ–è“ç‰™æ— çº¿ï¼ˆå·¦åŠè¾¹ä¸ºä¸»è®¾å¤‡ï¼‰ã€‚
- **å›ºä»¶**ï¼šå®Œå…¨æ”¯æŒ VIAL è¿›è¡Œé”®ä½å›¾å’Œå±‚è‡ªå®šä¹‰ï¼ŒåŸå§‹å›ºä»¶ä¸º RMKã€‚
- é«˜ç«¯ **CNC åŠ å·¥é“åˆ¶åº•ç›˜**ã€å®šåˆ¶å‡éœ‡æ³¡æ²«å’Œä¾¿æºå­˜å‚¨è¢‹ã€‚

> è¯¥é¡¹ç›®æ‰€æœ‰è€…ä¹Ÿæ˜¯ RMK è´¡çŒ®è€…ï¼Œè¯·æ”¯æŒ RMK https://rmk.rs/

## --Bootloader æ¢å¤è¯´æ˜--

-- åŸå§‹ RMK å›ºä»¶ç§»é™¤äº† SoftDeviceï¼Œå› æ­¤åœ¨åˆ·å…¥ `zmk.uf2` ä¹‹å‰ï¼Œæ‚¨éœ€è¦å…ˆæ¢å¤ SoftDeviceã€‚å…·ä½“æ­¥éª¤è¯·å‚è§ [bootloader/README.md](./bootloader/README.md)ã€‚ --

è‡ª v2.3 æ­¤æ¿çš„é—ªå­˜åˆ†åŒºå·²æ›´æ–°ï¼Œç§»é™¤äº† SDï¼ˆå°† SD åˆ†åŒºå¤§å°ä» 150K å‡å°‘åˆ° 4Kï¼‰ï¼Œå› æ­¤æ‚¨å¯ä»¥ç›´æ¥åˆ·å…¥å›ºä»¶ã€‚

> æ‚¨å¯èƒ½éœ€è¦é€šè¿‡æ—©æœŸç‰ˆæœ¬çš„ reset.uf2 é‡ç½®å›ºä»¶

> æ‚¨å¯ä»¥é€šè¿‡åˆ·å…¥åŸå§‹ uf2 æ–‡ä»¶å›æ»šåˆ°åŸå§‹å›ºä»¶ï¼Œåœ¨ rmkfw/ ä¸‹å¤‡ä»½æ–‡ä»¶

## ğŸ”° ç®€å•æ–¹æ³•ï¼šå…‹éš†æ­¤ä»“åº“å¹¶ä½¿ç”¨ GitHub Actions æ„å»º

å¦‚æœæ‚¨æ˜¯ ZMK æ–°æ‰‹ï¼Œä¸æƒ³å¤„ç† `west.yml` æˆ–æ¨¡å—ç®¡ç†ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨æ­¤ä»“åº“æ¥è‡ªå®šä¹‰å›ºä»¶ã€‚

### æ­¥éª¤

1. **Fork æˆ–å…‹éš†æ­¤ä»“åº“**
   - ç‚¹å‡»å³ä¸Šè§’çš„ **Fork** å°†æ­¤ä»“åº“å¤åˆ¶åˆ°æ‚¨çš„ GitHub è´¦æˆ·ï¼Œæˆ–
   - æœ¬åœ°è¿è¡Œ `git clone`ã€‚

   > æ¨è Forkï¼Œå› ä¸º GitHub Actions ä¼šè‡ªåŠ¨æ„å»ºæ‚¨çš„å›ºä»¶ã€‚

2. **ç¼–è¾‘æ‚¨çš„é”®ä½å›¾**
   - åœ¨ `config/cornix.keymap` ä¸­æ‰¾åˆ°é”®ä½å›¾æ–‡ä»¶ï¼ˆæˆ–æ‚¨æƒ³è¦è‡ªå®šä¹‰çš„ä»»ä½• `.keymap` æ–‡ä»¶ï¼‰ã€‚
   - æ‚¨å¯ä»¥ç›´æ¥ç¼–è¾‘ï¼Œæˆ–ä½¿ç”¨ [ZMK é”®ä½å›¾ç¼–è¾‘å™¨](https://nickcoutsos.github.io/keymap-editor/)ï¼š
     - æ‰“å¼€ç¼–è¾‘å™¨å¹¶åŠ è½½æ‚¨çš„ `.keymap` æ–‡ä»¶ã€‚
     - ä½¿ç”¨å¯è§†åŒ–ç¼–è¾‘å™¨è¿›è¡Œæ›´æ”¹ã€‚
     - ä¸‹è½½æ›´æ–°åçš„æ–‡ä»¶å¹¶æ›¿æ¢ä»“åº“ä¸­çš„æ–‡ä»¶ã€‚
     - æäº¤å¹¶æ¨é€åˆ° GitHubã€‚

3. **ä½¿ç”¨ GitHub Actions æ„å»º**
   - æ¨é€åï¼ŒGitHub Actions å°†è‡ªåŠ¨è¿è¡Œæ„å»ºã€‚
   - å·¥ä½œæµå®Œæˆåï¼Œè½¬åˆ° **Actions â†’ æ‚¨çš„æœ€æ–°è¿è¡Œ â†’ Artifacts** å¹¶ä¸‹è½½å›ºä»¶ (`.uf2`) æ–‡ä»¶ã€‚

4. **åˆ·å…¥æ‚¨çš„é”®ç›˜**
   - å°†æ‚¨çš„æ¿å­ç½®äº UF2 å¼•å¯¼åŠ è½½ç¨‹åºæ¨¡å¼ï¼ˆé€šå¸¸é€šè¿‡åŒå‡»å¤ä½æŒ‰é’®ï¼‰ã€‚
   - å°† `.uf2` æ–‡ä»¶æ‹–æ”¾åˆ°æŒ‚è½½çš„é©±åŠ¨å™¨ä¸Šã€‚

### é€‚ç”¨äºè°ï¼Ÿ

- ZMK æ–°æ‰‹
- åªæƒ³è‡ªå®šä¹‰é”®ä½å›¾çš„ç”¨æˆ·
- ä¸éœ€è¦ä¿®æ”¹é©±åŠ¨ç¨‹åºæˆ–ç¡¬ä»¶å®šä¹‰çš„ä»»ä½•äºº

## å¦‚ä½•ä»å¤´å¼€å§‹æ„å»º Cornix ZMK å›ºä»¶

æœ¬èŠ‚å°†æŒ‡å¯¼æ‚¨ä½¿ç”¨å®˜æ–¹ ZMK å›ºä»¶å¼€å‘æµç¨‹ä»å¤´å¼€å§‹æ„å»º Cornix ZMK å›ºä»¶ã€‚

### å…ˆå†³æ¡ä»¶

å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š
- GitHub è´¦æˆ·
- ç³»ç»Ÿä¸Šå®‰è£…äº† Git
- Git å’Œ GitHub çš„åŸºæœ¬ç†è§£
- æ‚¨çš„ Cornix é”®ç›˜ PCB å·²å‡†å¤‡å°±ç»ª

### ç¬¬ 1 æ­¥ï¼šåˆå§‹åŒ– ZMK é…ç½®ä»“åº“

1. **ä½¿ç”¨å®˜æ–¹ ZMK é…ç½®æ¨¡æ¿åˆ›å»ºæ–°ä»“åº“**ï¼š
   - è®¿é—®ï¼šhttps://github.com/zmkfirmware/unified-zmk-config-template
   - ç‚¹å‡»"ä½¿ç”¨æ­¤æ¨¡æ¿" â†’ "åˆ›å»ºæ–°ä»“åº“"
   - å‘½åæ‚¨çš„ä»“åº“ï¼ˆä¾‹å¦‚ `cornix-zmk-config`ï¼‰
   - é€‰æ‹©"å…¬å…±"æˆ–"ç§æœ‰"ä½œä¸ºé¦–é€‰
   - ç‚¹å‡»"åˆ›å»ºä»“åº“"

2. **åœ¨æœ¬åœ°å…‹éš†æ‚¨çš„æ–°ä»“åº“**ï¼š
   ```bash
   git clone https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git
   cd YOUR_REPO_NAME
   ```

3. **åˆå§‹åŒ– ZMK å¼€å‘ç¯å¢ƒ**ï¼š
   ```bash
   west init -l config/
   west update
   west zephyr-export
   ```

> **é‡è¦**ï¼šåœ¨ç»§ç»­ä¹‹å‰ï¼Œæ‚¨åº”è¯¥å½»åº•é˜…è¯» ZMK æ–‡æ¡£ï¼Œå› ä¸º ZMK å›ºä»¶å¼€å‘æœ‰ä¸€ä¸ªå­¦ä¹ æ›²çº¿ã€‚
> - ZMK è‡ªå®šä¹‰æŒ‡å—ï¼šhttps://zmk.dev/docs/customization
> - ZMK é…ç½®ï¼šhttps://zmk.dev/docs/user-setup

### ç¬¬ 2 æ­¥ï¼šå°† Cornix æ‰©å±•æ¿æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®

åˆå§‹åŒ–æ‚¨çš„ zmk-config ä»“åº“åï¼Œè¯·æŒ‰ç…§ä¸‹ä¸€èŠ‚ä¸­çš„æ­¥éª¤é›†æˆ Cornix æ‰©å±•æ¿ã€‚

## å¦‚ä½•å°† Cornix æ‰©å±•æ¿æ·»åŠ åˆ°ç°æœ‰ ZMK é¡¹ç›®

å¯¹äºå…·æœ‰ç°æœ‰ zmk-config çš„ç”¨æˆ·ï¼Œåº”é€šè¿‡ west.yml æ·»åŠ æ­¤ä»“åº“ä¾èµ–å¹¶é€šè¿‡ west update æ‹‰å–æœ€æ–°ç‰ˆæœ¬ï¼š

### 1. ä¿®æ”¹ west.yml

ç¼–è¾‘ `config/west.yml` æ–‡ä»¶ï¼Œåœ¨ `manifest/remotes` éƒ¨åˆ†æ·»åŠ ï¼š

```yaml
remotes:
  - name: zmkfirmware
    url-base: https://github.com/zmkfirmware
  - name: cornix-shield
    url-base: https://github.com/hitsmaxft
  - name: urob
    url-base: https://github.com/urob
```

åœ¨ `manifest/projects` éƒ¨åˆ†æ·»åŠ ï¼š

```yaml
projects:
  - name: zmk
    remote: zmkfirmware
    revision: main
    import: app/west.yml
  - name: zmk-keyboard-cornix
    remote: cornix-shield
    revision: main
  - name: zmk-helpers
    remote: urob
    revision: main
```

### 2. æ›´æ–°ä¾èµ–

```bash
west update
```

### 3. é…ç½®æ„å»º

ç¼–è¾‘ `build.yaml` æ–‡ä»¶ï¼Œæ·»åŠ ï¼š

> [!NOTE]
> 1. å¦‚æœæ‚¨ä½¿ç”¨ï¼ˆé»˜è®¤ï¼‰æ— é€‚é…å™¨çš„ cornixï¼Œè¯·é€‰æ‹© "cornix_left"ã€"cornix_right" å’Œ "reset"ã€‚
> 2. å¦‚æœæ‚¨å°† cornix ä¸é€‚é…å™¨ä¸€èµ·ä½¿ç”¨ï¼Œè¯·é€‰æ‹© "cornix_dongle"ã€‚"cornix_left_for_dongle"ã€"cornix_right" å’Œ "reset"ã€‚
> 3. æ·»åŠ  "cornix_indicator" æ‰©å±•æ¿ä»¥å¯ç”¨ RGB led ç¯ã€‚å®ƒæ¶ˆè€—æ›´å¤šç”µé‡ï¼Œä½¿ç”¨é£é™©è‡ªè´Ÿã€‚

```yaml
include:
  # ä½¿ç”¨å¸¦é€‚é…å™¨çš„ cornix
  - board: nice_nano
    shield: cornix_dongle_adaptor cornix_dongle_eyelash dongle_display
    snippet: studio-rpc-usb-uart
    artifact-name: cornix_dongle

  - board: cornix_ph_left
    # shield: cornix_indicator
    artifact-name: cornix_left_for_dongle

  # ä½¿ç”¨ä¸å¸¦é€‚é…å™¨çš„ cornix
  - board: cornix_left
    # shield: cornix_indicator
    artifact-name: cornix_left

  - board: cornix_right
    # shield: cornix_indicator
    artifact-name: cornix_right

  - board: cornix_right
    shield: settings_reset
    artifact-name: reset
```

### 4. æ„å»ºå›ºä»¶

ä½¿ç”¨æ‚¨å–œæ¬¢çš„æ–¹æ³•æ„å»º

- è‡ª 2.3 ç‰ˆæœ¬ä»¥æ¥æ— éœ€æ¢å¤ SD
- åœ¨ cornix çš„ä¸¤ä¾§åˆ·å…¥ reset.uf2
- åˆ·å…¥å·¦ã€å³ uf2 æ–‡ä»¶
- åŒæ—¶é‡ç½®ä¸¤ä¾§

### 5. åˆ·å…¥å›ºä»¶

å°†ç”Ÿæˆçš„ `.uf2` æ–‡ä»¶åˆ·å…¥ç›¸åº”çš„å¾®æ§åˆ¶å™¨ï¼š
- å·¦åŠéƒ¨åˆ†ï¼š`build/left/zephyr/zmk.uf2`
- å³åŠéƒ¨åˆ†ï¼š`build/right/zephyr/zmk.uf2`

## è‡ªå®šä¹‰é€‚é…å™¨ç”¨æˆ·çš„é€‚é…å™¨æ‰©å±•æ¿

å¯¹äºæƒ³è¦åˆ›å»ºè‡ªå·±è‡ªå®šä¹‰é€‚é…å™¨é…ç½®çš„ç”¨æˆ·ï¼Œæ­¤ä»“åº“æä¾›äº†ä¸€ä¸ªé€‚é…å™¨æ‰©å±•æ¿ã€‚Cornix é€‚é…å™¨çš„å®Œæ•´é…ç½®å¯ä»¥ä½¿ç”¨å¤šä¸ªæ‰©å±•æ¿ï¼š

1. **`cornix_dongle_adapter`** - è¿™æ˜¯çŸ©é˜µå’Œè“ç‰™åŠŸèƒ½çš„é€šç”¨æ‰©å±•æ¿
2. **`dongle_display`** - é€‚é…å™¨å±å¹•çš„æ˜¾ç¤ºæ¨¡å—ï¼ˆæˆ–å¦ä¸€ä¸ªæ˜¾ç¤ºé¡¹ç›®ï¼‰
3. **`cornix_dongle_eyelash`** - ä¸ºæ¿å­è®¾ç½®æ˜¾ç¤ºè®¾å¤‡çš„ç¤ºä¾‹æ‰©å±•æ¿ï¼ˆå¦‚æœæ¿å­åœ¨è®¾å¤‡æ ‘ä¸­å·²ç»æœ‰ `zephyr,display`ï¼Œåˆ™ä¸éœ€è¦æ­¤æ˜¾ç¤ºè¦†ç›–æ‰©å±•æ¿ï¼‰

`build.yaml` æ–‡ä»¶ä¸­çš„é…ç½®æ˜¾ç¤ºäº†å¦‚ä½•å°†è¿™äº›æ‰©å±•æ¿ç”¨äº eyelash é€‚é…å™¨ï¼š

```yaml
include:
  # ä½¿ç”¨å¸¦é€‚é…å™¨çš„ cornix
  - board: nice_nano
    shield: cornix_dongle_adapter cornix_dongle_eyelash dongle_display
    snippet: studio-rpc-usb-uart
    artifact-name: cornix_dongle
```

è¦ä¸ºæ˜¾ç¤ºéƒ¨åˆ†åˆ›å»ºè‡ªå®šä¹‰æ‰©å±•æ¿ï¼š
1. `dongle_display` æ¨¡å—æ˜¯ä¸€ä¸ªåŒ…å«æ˜¾ç¤ºå°éƒ¨ä»¶çš„æ¨¡å—ï¼Œä½œä¸ºé¡¹ç›®ä¾èµ–é¡¹é€šè¿‡ west æˆ–æœ¬åœ°åŒ…å«
2. å¦‚æœæ‚¨éœ€è¦ä¸ºæ˜¾ç¤ºç¡¬ä»¶åˆ›å»ºè‡ªå®šä¹‰æ‰©å±•æ¿ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæä¾›é€‚å½“æ˜¾ç¤ºé…ç½®çš„æ–°æ‰©å±•æ¿ã€‚æ­¤å¤„æ˜¾ç¤º `cornix_dongle_eyelash` ä½œä¸ºç¤ºä¾‹
3. å¦‚æœæ‚¨çš„æ¿å­åœ¨è®¾å¤‡æ ‘ä¸­å·²ç»æœ‰ `zephyr,display`ï¼Œæ‚¨å¯ä»¥çœç•¥ `cornix_dongle_eyelash` æ‰©å±•æ¿
4. åœ¨æ„å»ºé…ç½®ä¸­åŒ…å«æ‚¨çš„è‡ªå®šä¹‰æ‰©å±•æ¿

å¯¹äºè‡ªå®šä¹‰é€‚é…å™¨å±å¹•ï¼Œåœ¨ build.yaml ä¸­ä¸ºæ‚¨çš„è‡ªå®šä¹‰é€‚é…å™¨æ·»åŠ æ–°ç›®æ ‡ï¼š

```yaml
- board: nice_nano
  shield: cornix_dongle_adapter cornix_dongle_eyelash dongle_display
  snippet: studio-rpc-usb-uart zmk-usb-logging
  artifact-name: cornix_dongle
```

è¦ä¸ºæ‚¨çš„æ˜¾ç¤ºåˆ›å»ºè‡ªå®šä¹‰æ‰©å±•æ¿ï¼š
1. ä½¿ç”¨ `cornix_dongle_adapter` ä½œä¸ºçŸ©é˜µå’Œè“ç‰™åŠŸèƒ½çš„åŸºç¡€æ‰©å±•æ¿
2. åœ¨ `build.yaml` æ–‡ä»¶ä¸­æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰æ‰©å±•æ¿ï¼Œä½¿ç”¨é€‚å½“çš„æ¿å­å’Œé…ç½®
3. ä½¿ç”¨ `cornix_dongle_eyelash` ä½œä¸ºç¤ºä¾‹å¹¶ä¿®æ”¹æ˜¾ç¤ºéƒ¨åˆ†ä»¥åŒ¹é…æ‚¨çš„è‡ªå®šä¹‰æ¿å­
4. æ‚¨å¯ä»¥å°† `cornix_dongle_eyelash` å¤åˆ¶åˆ°æ‚¨é¡¹ç›®ä¸­çš„ `boards/shield/` ç›®å½•ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„åç§°æˆ–é‡å‘½åä¸ºæ–°æ‰©å±•æ¿

`west.yml` æ–‡ä»¶ä¸­çš„é…ç½®ä¿æŒä¸å˜ï¼š

```yaml
remotes:
  - name: zmkfirmware
    url-base: https://github.com/zmkfirmware
  - name: cornix-shield
    url-base: https://github.com/hitsmaxft
  - name: urob
    url-base: https://github.com/urob
```

```yaml
projects:
  - name: zmk
    remote: zmkfirmware
    revision: main
    import: app/west.yml
  - name: zmk-keyboard-cornix
    remote: cornix-shield
    revision: main
  - name: zmk-helpers
    remote: urob
    revision: main
```

## æœ¬åœ°æ„å»ºæ­¤é¡¹ç›®ï¼ˆä¸ä½¿ç”¨ west.yaml ä¾èµ–ï¼‰

å¦‚æœæ‚¨æ›´å–œæ¬¢åœ¨ä¸å°†æ­¤æ·»åŠ ä¸º west.yaml ä¾èµ–çš„æƒ…å†µä¸‹æœ¬åœ°æ„å»ºæ­¤é¡¹ç›®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ ZMK_EXTRA_MODULES cmake å‚æ•°ã€‚

### å…ˆå†³æ¡ä»¶

1. æœ‰ä¸€ä¸ªå·¥ä½œçš„ ZMK å¼€å‘ç¯å¢ƒ
2. å°†æ­¤ä»“åº“å…‹éš†åˆ°æœ¬åœ°ç›®å½•

### æ„å»ºæ­¥éª¤

1. **å…‹éš†æ­¤ä»“åº“**ï¼š
   ```bash
   git clone https://github.com/hitsmaxft/zmk-keyboard-cornix.git
   ```

2. **ä½¿ç”¨é¢å¤–æ¨¡å—é…ç½®æ‚¨çš„ ZMK æ„å»º**ï¼š

   ç¼–è¾‘æ‚¨çš„ `.west/config` æ–‡ä»¶å¹¶åœ¨ `[build]` éƒ¨åˆ†ä¸‹æ·»åŠ  cmake å‚æ•°ï¼š

   ```ini
   [build]
   cmake-args = -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DZMK_EXTRA_MODULES=/full/absolute/path/to/zmk-keyboard-cornix
   ```

   å°† `/full/absolute/path/to/zmk-keyboard-cornix` æ›¿æ¢ä¸ºæ‚¨å…‹éš†æ­¤ä»“åº“çš„å®é™…ç»å¯¹è·¯å¾„ã€‚

3. **æ„å»ºå›ºä»¶**ï¼š
   ```bash
   west build -b cornix_left
   west build -b cornix_right
   ```

æ­¤æ–¹æ³•å…è®¸æ‚¨ä½¿ç”¨ Cornix æ‰©å±•æ¿è€Œä¸ä¿®æ”¹æ‚¨ç°æœ‰ ZMK é…ç½®çš„ west.yaml æ–‡ä»¶ã€‚